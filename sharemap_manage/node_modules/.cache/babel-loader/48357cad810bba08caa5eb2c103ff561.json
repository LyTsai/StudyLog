{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nexport default {\n  data() {\n    return {\n      userlist: []\n    };\n  },\n\n  methods: {\n    getAllUsers: async function () {\n      const loginUrl = 'https://annielyticx-gamedataauth.azurewebsites.net/oauth/token';\n      const body = 'username=' + this.loginForm.username + '&password=' + this.loginForm.password + '&grant_type=password';\n      fetch(loginUrl, {\n        method: 'post',\n        body: body,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        } // , mode: 'no-cors'\n\n      }).then(response => {\n        console.log(response);\n\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.json();\n      }).then(result => {\n        const token = result.access_token;\n        window.sessionStorage.setItem('token', token);\n        this.$router.push('/home');\n      }).catch(error => {\n        alert(error);\n      }); // const { data: res } = await this.$http.get('/weatherforecast')\n      // if (res.meta.status !== 200) {\n      //   return this.$message.error('Failed')\n      // }\n      // console.log(res.data)\n      // this.userlist = await this.$http.get('/api/user')\n    }\n  },\n\n  created() {\n    this.getAllUsers();\n  }\n\n};","map":{"version":3,"mappings":";AAIA,eAAe;AACbA,MAAG,GAAK;AACN,WAAO;AACLC,cAAQ,EAAE;AADL,KAAP;AAGD,GALY;;AAMbC,SAAO,EAAE;AACPC,eAAW,EAAE,kBAAkB;AACrB,YAAMC,QAAO,GAAI,gEAAjB;AACN,YAAMC,IAAG,GAAI,cAAc,KAAKC,SAAL,CAAeC,QAA7B,GAAwC,YAAxC,GAAuD,KAAKD,SAAL,CAAeE,QAAtE,GAAiF,sBAA9F;AACAC,WAAK,CAACL,QAAD,EAAW;AACdM,cAAM,EAAE,MADM;AAEdL,YAAI,EAAEA,IAFQ;AAGdM,eAAO,EAAE;AACP,0BAAgB;AADT,SAHK,CAMd;;AANc,OAAX,CAAL,CAOGC,IAPH,CAOQC,QAAO,IAAK;AAClBC,eAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,YAAI,CAACA,QAAQ,CAACG,EAAd,EAAkB;AAChB,gBAAM,IAAIC,KAAJ,CAAUJ,QAAQ,CAACK,MAAnB,CAAN;AACF;;AACA,eAAOL,QAAQ,CAACM,IAAT,EAAP;AACD,OAbD,EAaGP,IAbH,CAaQQ,MAAK,IAAK;AAChB,cAAMC,KAAI,GAAID,MAAM,CAACE,YAArB;AACAC,cAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,EAAuCJ,KAAvC;AACA,aAAKK,OAAL,CAAaC,IAAb,CAAkB,OAAlB;AACD,OAjBD,EAiBGC,KAjBH,CAiBSC,KAAI,IAAK;AAChBC,aAAK,CAACD,KAAD,CAAL;AACD,OAnBD,EAH2B,CAuB7B;AACA;AACA;AACA;AACA;AACA;AACF;AA9BO,GANI;;AAsCbE,SAAM,GAAK;AACT,SAAK5B,WAAL;AACF;;AAxCa,CAAf","names":["data","userlist","methods","getAllUsers","loginUrl","body","loginForm","username","password","fetch","method","headers","then","response","console","log","ok","Error","status","json","result","token","access_token","window","sessionStorage","setItem","$router","push","catch","error","alert","created"],"sourceRoot":"","sources":["/Volumes/iMacDisk/Users/Shared/GitHub/StudyLog/sharemap_manage/src/views/user/UserList.vue"],"sourcesContent":["<template>\n  <div></div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      userlist: []\n    }\n  },\n  methods: {\n    getAllUsers: async function () {\n              const loginUrl = 'https://annielyticx-gamedataauth.azurewebsites.net/oauth/token'\n        const body = 'username=' + this.loginForm.username + '&password=' + this.loginForm.password + '&grant_type=password'\n        fetch(loginUrl, {\n          method: 'post',\n          body: body,\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n          // , mode: 'no-cors'\n        }).then(response => {\n          console.log(response)\n          if (!response.ok) {\n            throw new Error(response.status)\n          }\n          return response.json()\n        }).then(result => {\n          const token = result.access_token\n          window.sessionStorage.setItem('token', token)\n          this.$router.push('/home')\n        }).catch(error => {\n          alert(error)\n        })\n      // const { data: res } = await this.$http.get('/weatherforecast')\n      // if (res.meta.status !== 200) {\n      //   return this.$message.error('Failed')\n      // }\n      // console.log(res.data)\n      // this.userlist = await this.$http.get('/api/user')\n    }\n  },\n  created () {\n    this.getAllUsers()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}