{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, withKeys as _withKeys } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Home\");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Visuals\");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Visual List\");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Search\");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Add Visual\");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Edit\");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Delete\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" + New Tag \");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"Cancel\");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"Confirm\");\n\nexport function render(_ctx, _cache) {\n  const _component_el_breadcrumb_item = _resolveComponent(\"el-breadcrumb-item\");\n\n  const _component_el_breadcrumb = _resolveComponent(\"el-breadcrumb\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_col = _resolveComponent(\"el-col\");\n\n  const _component_el_row = _resolveComponent(\"el-row\");\n\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_card = _resolveComponent(\"el-card\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_breadcrumb, {\n    \"separator-class\": \"el-icon-arrow-right\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_breadcrumb_item, {\n      to: {\n        path: '/home'\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_1]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_breadcrumb_item, null, {\n      default: _withCtx(() => [_hoisted_2]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_breadcrumb_item, null, {\n      default: _withCtx(() => [_hoisted_3]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_el_card, null, {\n    default: _withCtx(() => [_createCommentVNode(\" search and add \"), _createVNode(_component_el_row, {\n      gutter: 20\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 8\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          placeholder: \"Input title\",\n          modelValue: _ctx.queryInfo.query,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.queryInfo.query = $event),\n          clearable: \"\",\n          onClear: _ctx.getVisualList\n        }, {\n          append: _withCtx(() => [_createVNode(_component_el_button, {\n            type: \"primary\",\n            icon: _ctx.Search,\n            onClick: _ctx.getVisualList\n          }, {\n            default: _withCtx(() => [_hoisted_4]),\n            _: 1\n            /* STABLE */\n\n          }, 8\n          /* PROPS */\n          , [\"icon\", \"onClick\"])]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\", \"onClear\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_col, {\n        span: 4\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _ctx.addVisualClicked\n        }, {\n          default: _withCtx(() => [_hoisted_5]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"onClick\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }), _createCommentVNode(\" table \"), _createCommentVNode(\" height=\\\"50\\\" \"), _createVNode(_component_el_table, {\n      data: _ctx.visualList,\n      border: \"\",\n      stripe: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        type: \"index\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Title\",\n        prop: \"title\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Abstract\",\n        prop: \"abstract\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Keywords\",\n        prop: \"keywords\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Subject\",\n        prop: \"subject\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Text\",\n        prop: \"text\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Url\",\n        prop: \"url\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Url_scancode\",\n        prop: \"url_scancode\"\n      }), _createVNode(_component_el_table_column, {\n        fixed: \"right\",\n        label: \"Operations\",\n        width: \"110\"\n      }, {\n        default: _withCtx(scope => [_createCommentVNode(\" buttons \"), _createVNode(_component_el_button, {\n          type: \"text\",\n          size: \"small\",\n          onClick: $event => _ctx.editClicked(scope.row._id)\n        }, {\n          default: _withCtx(() => [_hoisted_6]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1032\n        /* PROPS, DYNAMIC_SLOTS */\n        , [\"onClick\"]), _createVNode(_component_el_button, {\n          type: \"text\",\n          size: \"small\",\n          onClick: $event => _ctx.deleteClicked(scope.row._id)\n        }, {\n          default: _withCtx(() => [_hoisted_7]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1032\n        /* PROPS, DYNAMIC_SLOTS */\n        , [\"onClick\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"data\"]), _createCommentVNode(\" paging \"), _createCommentVNode(\" <el-pagination @size-change=\\\"handleSizeChange\\\" @current-change=\\\"handleCurrentChange\\\" :current-page=\\\"queryInfo.pagenum\\\" :page-sizes=\\\"[1, 2, 5, 10]\\\" :page-size=\\\"queryInfo.pagesize\\\" layout=\\\"total, sizes, prev, pager, next, jumper\\\" :total=\\\"total\\\">\\n      </el-pagination> \")]),\n    _: 1\n    /* STABLE */\n\n  }), _createCommentVNode(\" add or modify User \"), _createVNode(_component_el_dialog, {\n    title: _ctx.showForAdd ? 'Add Visual' : 'Modify Visual',\n    modelValue: _ctx.dialogVisible,\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _ctx.dialogVisible = $event),\n    width: \"50%\",\n    onClose: _ctx.dialogClosed\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" edit \"), _createVNode(_component_el_form, {\n      model: _ctx.visualForm,\n      rules: _ctx.visualFormRules,\n      ref: \"visualFormRef\",\n      \"label-width\": \"100px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"Title\",\n        prop: \"title\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.visualForm.title,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.visualForm.title = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"Abstract\",\n        prop: \"abstract\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.visualForm.abstract,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.visualForm.abstract = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"Keywords\",\n        prop: \"keywords\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.visualForm.keywords, tag => {\n          return _openBlock(), _createBlock(_component_el_tag, {\n            key: tag,\n            class: \"mx-1\",\n            closable: \"\",\n            \"disable-transitions\": false,\n            onClose: $event => _ctx.handleClose(tag)\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(tag), 1\n            /* TEXT */\n            )]),\n            _: 2\n            /* DYNAMIC */\n\n          }, 1032\n          /* PROPS, DYNAMIC_SLOTS */\n          , [\"onClose\"]);\n        }), 128\n        /* KEYED_FRAGMENT */\n        )), _ctx.inputVisible ? (_openBlock(), _createBlock(_component_el_input, {\n          key: 0,\n          ref: \"InputRef\",\n          modelValue: _ctx.inputValue,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.inputValue = $event),\n          class: \"ml-1 w-20\",\n          size: \"small\",\n          onKeyup: _withKeys(_ctx.handleInputConfirm, [\"enter\"]),\n          onBlur: _ctx.handleInputConfirm\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\", \"onKeyup\", \"onBlur\"])) : (_openBlock(), _createBlock(_component_el_button, {\n          key: 1,\n          class: \"button-new-tag ml-1\",\n          size: \"small\",\n          onClick: _ctx.showInput\n        }, {\n          default: _withCtx(() => [_hoisted_8]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"onClick\"]))]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"Subject\",\n        prop: \"subject\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.visualForm.subject,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.visualForm.subject = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"Text\",\n        prop: \"text\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.visualForm.text,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.visualForm.text = $event),\n          type: \"textarea\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"URL\",\n        prop: \"url\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.visualForm.url,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.visualForm.url = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"URL scancode\",\n        prop: \"url_scancode\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: _ctx.visualForm.url_scancode,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.visualForm.url_scancode = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createCommentVNode(\" bottom \"), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          onClick: _ctx.dialogClosed\n        }, {\n          default: _withCtx(() => [_hoisted_9]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"onClick\"]), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _ctx.createUser\n        }, {\n          default: _withCtx(() => [_hoisted_10]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"onClick\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"model\", \"rules\"])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"title\", \"modelValue\", \"onClose\"])]);\n}","map":{"version":3,"mappings":"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","names":["_createElementBlock","_createVNode","_component_el_breadcrumb","_component_el_breadcrumb_item","to","path","_component_el_card","_createCommentVNode","_component_el_row","gutter","_component_el_col","span","_component_el_input","placeholder","_ctx","query","$event","clearable","onClear","append","_component_el_button","type","icon","onClick","_component_el_table","data","border","stripe","_component_el_table_column","label","prop","fixed","width","default","scope","size","row","_id","_component_el_dialog","title","onClose","_component_el_form","model","rules","ref","_component_el_form_item","abstract","_Fragment","_renderList","keywords","tag","_createBlock","_component_el_tag","key","class","closable","onKeyup","onBlur","subject","text","url","url_scancode"],"sourceRoot":"","sources":["/Volumes/iMacDisk/Users/Shared/GitHub/StudyLog/sharemap_manage/src/views/visuals/VisualView.vue"],"sourcesContent":["<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">Home</el-breadcrumb-item>\n      <el-breadcrumb-item>Visuals</el-breadcrumb-item>\n      <el-breadcrumb-item>Visual List</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-card>\n      <!-- search and add -->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <el-input placeholder=\"Input title\" v-model=\"queryInfo.query\" clearable @clear=\"getVisualList\">\n            <template #append>\n              <el-button type=\"primary\" :icon=\"Search\" @click=\"getVisualList\">Search</el-button>\n            </template>\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"addVisualClicked\">Add Visual</el-button>\n        </el-col>\n      </el-row>\n      <!-- table -->\n       <!-- height=\"50\" -->\n      <el-table :data=\"visualList\" border stripe>\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column label=\"Title\" prop=\"title\"></el-table-column>\n        <el-table-column label=\"Abstract\" prop=\"abstract\"></el-table-column>\n        <el-table-column label=\"Keywords\" prop=\"keywords\"></el-table-column>\n        <el-table-column label=\"Subject\" prop=\"subject\"></el-table-column>\n        <el-table-column label=\"Text\" prop=\"text\"></el-table-column>\n        <el-table-column label=\"Url\" prop=\"url\"></el-table-column>\n        <el-table-column label=\"Url_scancode\" prop=\"url_scancode\"></el-table-column>\n        <el-table-column fixed=\"right\" label=\"Operations\" width=\"110\">\n          <template #default=\"scope\">\n            <!-- buttons -->\n            <el-button type=\"text\" size=\"small\" @click=\"editClicked(scope.row._id)\">Edit</el-button>\n            <el-button type=\"text\" size=\"small\" @click=\"deleteClicked(scope.row._id)\">Delete</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- paging -->\n      <!-- <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"queryInfo.pagenum\" :page-sizes=\"[1, 2, 5, 10]\" :page-size=\"queryInfo.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination> -->\n    </el-card>\n    <!-- add or modify User -->\n    <el-dialog :title=\"showForAdd ? 'Add Visual' : 'Modify Visual'\" v-model=\"dialogVisible\" width=\"50%\" @close=\"dialogClosed\">\n      <!-- edit -->\n      <el-form :model=\"visualForm\" :rules=\"visualFormRules\" ref=\"visualFormRef\" label-width=\"100px\">\n        <el-form-item label=\"Title\" prop=\"title\">\n          <el-input v-model=\"visualForm.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Abstract\" prop=\"abstract\">\n          <el-input v-model=\"visualForm.abstract\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Keywords\" prop=\"keywords\">\n          <el-tag v-for=\"tag in visualForm.keywords\" :key=\"tag\" class=\"mx-1\" closable :disable-transitions=\"false\" @close=\"handleClose(tag)\"\n          >\n    {{ tag }}\n  </el-tag>\n  <el-input\n    v-if=\"inputVisible\"\n    ref=\"InputRef\"\n    v-model=\"inputValue\"\n    class=\"ml-1 w-20\"\n    size=\"small\"\n    @keyup.enter=\"handleInputConfirm\"\n    @blur=\"handleInputConfirm\"\n  />\n  <el-button v-else class=\"button-new-tag ml-1\" size=\"small\" @click=\"showInput\">\n    + New Tag\n  </el-button>\n        </el-form-item>\n        <el-form-item label=\"Subject\" prop=\"subject\">\n          <el-input v-model=\"visualForm.subject\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Text\" prop=\"text\">\n          <el-input v-model=\"visualForm.text\" type=\"textarea\"/>\n        </el-form-item>\n        <el-form-item label=\"URL\" prop=\"url\">\n          <el-input v-model=\"visualForm.url\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"URL scancode\" prop=\"url_scancode\">\n          <el-input v-model=\"visualForm.url_scancode\"></el-input>\n        </el-form-item>\n        <!-- bottom -->\n        <el-form-item>\n          <el-button @click=\"dialogClosed\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"createUser\">Confirm</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { getCurrentInstance, reactive, ref } from 'vue'\nexport default {\n  setup () {\n    const queryInfo = reactive({\n      query: '',\n      pagenum: 1,\n      pagesize: 10\n    })\n    // page\n    // const handleSizeChange = (size) => {\n    //   queryInfo.pagesize = size\n    //   getUserList()\n    // }\n    // const handleCurrentChange = (page) => {\n    //   queryInfo.pagenum = page\n    //   getUserList()\n    // }\n    // data\n    const visualList = reactive([{\n      _id: '62390bb33528d814d2c384d5',\n      user_id: '62352300fe3ca8f02b47f2a6',\n      title: 'vitD',\n      abstract: 'poster card about vitD',\n      subject: 'vitD',\n      keywords: ['vtD', 'lifestyle', 'diabetes'],\n      text: 'the detailed text here',\n      url: 'url poiting to the html page',\n      url_scancode: 'url pointing to the scan code.  internal data field.'\n    }])\n\n    const visualForm = reactive({\n      title: '',\n      abstract: '',\n      keywords: [],\n      subject: '',\n      text: '',\n      url: '',\n      url_scancode: ''\n      // categories: [],\n      // forwarded: 0,\n      // likes: 0,\n      // user_id: ''\n    })\n    // dialog\n    const visualFormRef = ref('')\n    const visualFormRules = {\n\n    }\n    const dialogVisible = ref(false)\n    const showForAdd = ref(true)\n    const visualId = ref('')\n    // methods\n    const getVisualList = () => {\n\n    }\n\n    const addVisualClicked = () => {\n      visualForm.title = ''\n      visualForm.abstract = ''\n      visualForm.keywords = []\n      visualForm.subject = ''\n      visualForm.text = ''\n      visualForm.url = ''\n      visualForm.url_scancode = ''\n      showForAdd.value = true\n      dialogVisible.value = true\n    }\n\n    const dialogClosed = () => {\n      dialogVisible.value = false\n    }\n\n    const editClicked = (id) => {\n      showForAdd.value = false\n      visualId.value = id\n      // assign\n      const visual = getVisualByID(id).visual\n      visualForm.title = visual.title\n      visualForm.abstract = visual.abstract\n      visualForm.keywords = visual.keywords\n      visualForm.subject = visual.subject\n      visualForm.text = visual.text\n      visualForm.url = visual.url\n      visualForm.url_scancode = visual.url_scancode\n      // show\n      dialogVisible.value = true\n    }\n    // tag\n    import { , ref } from 'vue'\n    import type { ElInput } from 'element-plus'\n\n    const inputValue = ref('')\n    const dynamicTags = ref(['Tag 1', 'Tag 2', 'Tag 3'])\n    const inputVisible = ref(false)\n    const InputRef = ref<InstanceType<typeof ElInput>>()\n\n    const handleClose = (tag: string) => {\n      dynamicTags.value.splice(dynamicTags.value.indexOf(tag), 1)\n    }\n\n    const showInput = () => {\n      inputVisible.value = true\n      nextTick(() => {\n        InputRef.value!.input!.focus()\n      })\n    }\n\n    const handleInputConfirm = () => {\n      if (inputValue.value) {\n        dynamicTags.value.push(inputValue.value)\n      }\n      inputVisible.value = false\n      inputValue.value = ''\n    }\n\n    // data action\n    const { proxy } = getCurrentInstance()\n    const deleteClicked = async (id) => {\n      const confirmResult = await proxy.$confirm(\n        'This Visual Will be deleted.',\n        'Warning',\n        {\n          confirmButtonText: 'Confirm',\n          cancelButtonText: 'Cancel',\n          type: 'warning'\n        }\n      ).catch(error => error)\n      if (confirmResult !== 'confirm') {\n        // cancel\n      } else {\n        deleteVisual(id)\n      }\n    }\n\n    function deleteVisual (id) {\n\n    }\n\n    function getVisualByID (id) {\n      for (let index = 0; index < visualList.length; index++) {\n        const element = visualList[index]\n        if (element._id === id) {\n          return {\n            visual: element,\n            index: index\n          }\n        }\n      }\n    }\n\n    return { queryInfo, visualList, visualForm, visualFormRef, visualFormRules, dialogVisible, getVisualList, addVisualClicked, dialogClosed, editClicked, deleteClicked }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}