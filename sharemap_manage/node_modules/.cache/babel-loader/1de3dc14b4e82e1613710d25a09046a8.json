{"ast":null,"code":"export default {\n  data() {\n    return {\n      queryInfo: {\n        query: '',\n        pagenum: 1,\n        pagesize: 10\n      },\n      userlist: [{\n        _id: '12345',\n        username: 'userOne',\n        first_name: 'User',\n        last_name: 'one',\n        password: 'slowaging123',\n        address: 'long long text to see',\n        profession: ['a', 'b', 'c'],\n        email: 'hello@163.com',\n        cell: '1000000'\n      }, {\n        _id: '12ddd345',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '1dsgad5',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '1daggag5',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '12dagdgae5',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '12agadd345',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }],\n      addDialogVisible: false,\n      addForm: {\n        username: '',\n        password: '',\n        first_name: '',\n        last_name: '',\n        address: '',\n        profession: [],\n        email: '',\n        cell: ''\n      },\n      addFormRules: {\n        username: [{\n          required: true,\n          message: 'Input user name',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: 'Input user password',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    // page\n    handleSizeChange: function (size) {\n      this.queryInfo.pagesize = size;\n      this.getUserList();\n    },\n    handleCurrentChange: function (page) {\n      this.queryInfo.pagenum = page;\n      this.getUserList();\n    },\n    // user buttons\n    editUserClicked: function (id) {\n      console.log(id);\n    },\n    deleteUserClicked: async function (id) {\n      const confirmResult = await this.$confirm('Will Delete this User', 'Warning', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).catch(error => error);\n\n      if (confirmResult != 'confirm') {} else {}\n    },\n    // dialog\n    addDialogClosed: function () {\n      this.$refs.addFormRef.resetFields();\n    },\n    // api functions\n    getUserList: async function () {\n      const result = await this.$http.get('/api/user', {\n        params: this.queryInfo\n      });\n      console.log(result);\n    },\n    addUser: function () {},\n    deleteUser: function (id) {},\n    updateUser: function (id) {}\n  },\n  computed: {\n    total: function () {\n      return this.userlist.length;\n    }\n  },\n\n  created() {\n    this.getUserList();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["data","queryInfo","query","pagenum","pagesize","userlist","_id","username","first_name","last_name","password","address","profession","email","cell","addDialogVisible","addForm","addFormRules","required","message","trigger","methods","handleSizeChange","size","getUserList","handleCurrentChange","page","editUserClicked","id","console","log","deleteUserClicked","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","error","addDialogClosed","$refs","addFormRef","resetFields","result","$http","get","params","addUser","deleteUser","updateUser","computed","total","length","created"],"sourceRoot":"","sources":["/Volumes/iMacDisk/Users/Shared/GitHub/StudyLog/sharemap_manage/src/views/user/UserList.vue"],"sourcesContent":["<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">Home</el-breadcrumb-item>\n      <el-breadcrumb-item>User Management</el-breadcrumb-item>\n      <el-breadcrumb-item>User List</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- list -->\n    <el-card>\n      <!-- search and add -->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <el-input placeholder=\"Input name\" v-model=\"queryInfo.query\" clearable @clear=\"getUserList\">\n            <template  #append>\n              <el-button type=\"primary\" :icon=\"Search\" @click=\"getUserList\">Search</el-button>\n            </template>\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">Add User</el-button>\n        </el-col>\n      </el-row>\n      <!-- table -->\n       <!-- height=\"50\" -->\n      <el-table :data=\"userlist\" border stripe>\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column label=\"Username\" prop=\"username\"></el-table-column>\n        <el-table-column label=\"Name\">\n          <template #default=\"scope\">{{scope.row.first_name}} {{scope.row.last_name}}</template>\n        </el-table-column>\n        <el-table-column label=\"Address\" prop=\"address\"></el-table-column>\n        <el-table-column label=\"Profession\" prop=\"profession\"></el-table-column>\n        <el-table-column label=\"Email\" prop=\"email\"></el-table-column>\n        <el-table-column label=\"Cell\" prop=\"cell\"></el-table-column>\n        <el-table-column label=\"Manage\" width=\"145px\">\n          <template #default=\"scope\">\n            <!-- buttons -->\n            <el-button type=\"primary\" @click=\"editUserClicked(scope.row._id)\">Edit</el-button>\n            <el-button type=\"danger\" @click=\"deleteUserClicked(scope.row._id)\">Delete</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- paging -->\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"queryInfo.pagenum\" :page-sizes=\"[1, 2, 5, 10]\" :page-size=\"queryInfo.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination>\n    </el-card>\n    <!-- addUser -->\n    <el-dialog title=\"Add User\" v-model=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\n      <!-- edit -->\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\">\n        <el-form-item label=\"Username\" prop=\"username\">\n          <el-input v-model=\"addForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Password\" prop=\"password\">\n          <el-input v-model=\"addForm.password\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Name\" prop=\"name\">\n          <el-col :span=\"11\">\n            <el-input v-model=\"addForm.first_name\" placeholder=\"first name\"></el-input>\n          </el-col>\n          <el-col :span=\"2\" class=\"text-center\">\n          </el-col>\n          <el-col :span=\"11\">\n          <el-input v-model=\"addForm.last_name\" placeholder=\"last name\"></el-input>\n        </el-col>\n        </el-form-item>\n        <el-form-item label=\"Address\" prop=\"address\">\n          <el-input v-model=\"addForm.address\" type=\"textarea\"/>\n        </el-form-item>\n        <el-form-item label=\"Profession\">\n          <el-checkbox-group v-model=\"addForm.profession\">\n            <el-checkbox label = \"Medical Professional\" name=\"profession\"></el-checkbox>\n            <el-checkbox label = \"Educator\" name=\"profession\"></el-checkbox>\n            <el-checkbox label = \"Reasearcher\" name=\"profession\"></el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        <el-form-item label=\"Email\" prop=\"email\">\n          <el-input v-model=\"addForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Cell\" prop=\"mobile\">\n          <el-input v-model=\"addForm.cell\"></el-input>\n        </el-form-item>\n        <!-- bottom -->\n        <el-form-item>\n          <el-button @click=\"addDialogVisible = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"addUser\">Create</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n    <!-- delelte -->\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      queryInfo: {\n        query: '',\n        pagenum: 1,\n        pagesize: 10\n      },\n      userlist: [{\n        _id: '12345',\n        username: 'userOne',\n        first_name: 'User',\n        last_name: 'one',\n        password: 'slowaging123',\n        address: 'long long text to see',\n        profession: ['a', 'b', 'c'],\n        email: 'hello@163.com',\n        cell: '1000000'\n      }, {\n        _id: '12ddd345',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '1dsgad5',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '1daggag5',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '12dagdgae5',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }, {\n        _id: '12agadd345',\n        username: 'user2',\n        first_name: 'User',\n        last_name: '2',\n        password: 'slowaging123d',\n        profession: ['a', 'b'],\n        email: 'hello@163.com'\n      }],\n      addDialogVisible: false,\n      addForm: {\n        username: '',\n        password: '',\n        first_name: '',\n        last_name: '',\n        address: '',\n        profession: [],\n        email: '',\n        cell: ''\n      },\n      addFormRules: {\n        username: [\n          { required: true, message: 'Input user name', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: 'Input user password', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    // page\n    handleSizeChange: function (size) {\n      this.queryInfo.pagesize = size\n      this.getUserList()\n    },\n    handleCurrentChange: function (page) {\n      this.queryInfo.pagenum = page\n      this.getUserList()\n    },\n    // user buttons\n    editUserClicked: function (id) {\n      console.log(id)\n    },\n    deleteUserClicked: async function (id) {\n      const confirmResult = await this.$confirm(\n        'Will Delete this User',\n        'Warning',\n        {\n          confirmButtonText: 'Confirm',\n          cancelButtonText: 'Cancel',\n          type: 'warning'\n        }\n      ).catch(error => error)\n      if (confirmResult != 'confirm') {\n        \n      } else {\n        \n      }\n    },\n    // dialog\n    addDialogClosed: function () {\n      this.$refs.addFormRef.resetFields()\n    },\n    // api functions\n    getUserList: async function () {\n      const result = await this.$http.get('/api/user', {\n        params: this.queryInfo\n      })\n      console.log(result)\n    },\n    addUser: function () {\n\n    },\n    deleteUser: function (id) {\n\n    },\n    updateUser: function (id) {\n\n    }\n  },\n  computed: {\n    total: function () {\n      return this.userlist.length\n    }\n  },\n  created () {\n    this.getUserList()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}